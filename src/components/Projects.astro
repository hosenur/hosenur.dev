---
import { getCollection } from "astro:content";
const projects = (await getCollection("project")).sort(
    (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf(),
);
---

<div class="flex flex-col divide-y divide-zinc-900">
    {
        projects.map((project) => (
            <div class="flex flex-col gap-1 py-2.5">
                <div class="flex justify-between items-center">
                    <span class="flex flex-col justify-between">
                        <h1 class="font-bold text-lime-300 uppercase">
                            {project.data.title}
                        </h1>
                        {project.data.company && (
                            <p class="font-mono my-0.5 text-sm bg-opacity-30  border-b-2 hover:bg-opacity-100 hover:text-black transition-all ease-in-out cursor-pointer border-lime-500 px-1 py-0.5 bg-lime-400 text-white">
                                for
                                <a href={project.data.companyURL} class="font-bold">
                                    {project.data.company}
                                </a>
                            </p>
                        )}
                    </span>
                    {!project.data.completed && (
                        <div class="flex items-center gap-1.5">
                            <div class="w-1.5 h-1.5  rounded-full bg-lime-300 animate-ping" />
                            <span class="font-geist uppercase text-sm">
                                In Progress
                            </span>
                        </div>
                    )}
                </div>
                <p>{project.data.description}</p>
                {project.data.live && (
                    <a
                        target="_blank"
                        href={"https://" + project.data.live}
                        class="text-lime-300 font-geist"
                    >
                        <p class="text-white flex items-center gap-1 lowercase font-geist">
                            {project.data.live}
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="icon icon-tabler icon-tabler-arrow-up-right w-5"
                                viewBox="0 0 24 24"
                                stroke-width="1.3"
                                stroke="currentColor"
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <path
                                    stroke="none"
                                    d="M0 0h24v24H0z"
                                    fill="none"
                                />
                                <path d="M17 7l-10 10" />
                                <path d="M8 7l9 0l0 9" />
                            </svg>
                        </p>
                    </a>
                )}
            </div>
        ))
    }
</div>
